{
	admin caddy:2019

	servers {
		metrics
	}

	log {
		output stderr
	}
}

(app) {
	tls wooseop@protonmail.com

	encode zstd gzip

	reverse_proxy {args.0} {
		header_up X-Real-IP {remote_host}
	}
}

https://grafana.apps.wooseop.kim {
	import app "grafana:3000"
}

https://vaultwarden.apps.wooseop.kim {
	import app "vaultwarden:80"

	reverse_proxy /notifications/hub vaultwarden:3012
}

https://etesync.apps.wooseop.kim {
	import app "etesync:8000"

	file_server * browse {
		root /srv/etebase/static
	}

	reverse_proxy etesync:8000 {
		header_up X-Real-IP {remote_host}
	}
}
